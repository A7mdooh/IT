<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุงูุฏุฑุณ ุงูุฃูู | ููุฏูุฉ ูู ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</title>
  <meta name="description" content="ุชุนุฑููุงุช ุฏูููุฉุ ุดุฑุญ ููุตู ููุฃูุฏุงูุ ุฃูุดุทุฉ ูุตูุฑุฉ ุจุนุฏ ูู ูุฏูุ ููุดุงุท ุฎุชุงูู ุชูุงุนูู.">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --radius:16px; --primary:#0ea5e9; --accent:#f59e0b; --ok:#16a34a; --warn:#eab308; --err:#ef4444;
      --bg:#f8fafc; --panel:#ffffff; --text:#0f172a; --muted:#475569; --ring:rgba(14,165,233,.45);
      --shadow:0 12px 30px rgba(0,0,0,.08);
    }
    body.dark{
      --bg:#0b1220; --panel:#0f172a; --text:#e5e7eb; --muted:#9ca3af; --shadow:0 10px 30px rgba(0,0,0,.5);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:"Cairo",system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.7;font-size:clamp(16px,1.1vw+12px,19px)}
    a{color:inherit}
    .container{width:min(1100px,92%);margin:auto;padding:24px}
    .topbar{position:sticky;top:0;background:linear-gradient(90deg,rgba(14,165,233,.12),rgba(245,158,11,.12));backdrop-filter:blur(6px);border-bottom:1px solid rgba(2,8,23,.08);z-index:40}
    .nav a,.nav button{margin-inline:.35rem;text-decoration:none;color:var(--text)}
    .btn{border:0;border-radius:999px;padding:10px 16px;cursor:pointer;font-weight:800}
    .btn.primary{background:var(--primary);color:#fff}
    .btn.outline{background:transparent;border:1px solid var(--primary);color:var(--primary)}
    .btn.ghost{background:transparent;border:1px solid rgba(2,8,23,.12);color:var(--text)}
    .btn.link{background:transparent;border:0;color:var(--primary);padding:0}
    .hero{border-radius:var(--radius);padding:28px;background:
      radial-gradient(1100px 380px at 100% -20%, rgba(14,165,233,.20), transparent 60%),
      radial-gradient(1000px 300px at -10% -30%, rgba(245,158,11,.20), transparent 60%),
      var(--panel); box-shadow:var(--shadow); border:1px solid rgba(2,8,23,.06)}
    .hero h1{margin:0 0 6px;font-size:clamp(28px,2.3vw+18px,44px);
      background:linear-gradient(90deg,var(--primary),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent}
    .lead{color:var(--muted)}
    .card{background:var(--panel);border:1px solid rgba(2,8,23,.08);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);margin-top:16px}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{padding:8px 12px;border-radius:999px;background:rgba(2,8,23,.06)}
    .grid{display:grid;gap:16px}
    @media(min-width:880px){.grid.two{grid-template-columns:1fr 1fr}.grid.four{grid-template-columns:repeat(4,1fr)}}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid rgba(2,8,23,.12);padding:.6rem;text-align:center}
    .input{width:100%;border-radius:12px;border:1px solid rgba(2,8,23,.16);padding:.6rem .8rem;background:#fff}
    .result{margin-top:8px;font-weight:800}
    .toast{position:fixed;inset-inline:16px;bottom:16px;background:#fff;color:var(--text);
      border-inline-start:6px solid var(--primary);padding:12px 14px;border-radius:12px;box-shadow:var(--shadow);opacity:0;transform:translateY(8px);transition:.25s;z-index:60}
    .toast.show{opacity:1;transform:none}
    /* ุณุญุจ ูุฅููุงุช */
    .dnd{display:grid;gap:12px}
    .buckets{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .bucket{min-height:130px;padding:10px;border-radius:12px;border:2px dashed rgba(2,8,23,.18);background:#f1f5f9}
    .token{display:inline-block;margin:6px;padding:8px 12px;border-radius:999px;background:#fff;border:1px solid rgba(2,8,23,.14);cursor:grab}
    /* ุดุฑูุท ุงูุชุญุฏู ุงูููุงุฆู */
    .bar{height:8px;background:#e2e8f0;border-radius:999px;overflow:hidden}
    .bar>div{height:100%;width:0;background:linear-gradient(90deg,var(--primary),var(--accent))}
  </style>
</head>
<body>
  <!-- ุดุฑูุท ุนููู -->
  <header class="topbar">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <a class="brand" href="../" style="font-weight:800;text-decoration:none">ููุตุชู</a>
      <nav class="nav">
        <a href="../lessons/lesson1-plan.html">ุชุญุถูุฑ ุงูุฏุฑุณ</a>
        <a href="../lessons/">ุงูุฏุฑูุณ</a>
        <a href="../games/">ุงูุฃูุนุงุจ ุงูุชุนููููุฉ</a>
        <a href="../model-classes/">ุญุตุต ูููุฐุฌูุฉ</a>
        <button id="themeToggle" class="btn ghost" aria-label="ุชุจุฏูู ุงูุซูู">๐</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- ุชูููุฏ/ูุดุงุท ูุจูู ูุฅุซุงุฑุฉ ุงูุฏุงูุนูุฉ -->
    <section class="hero" id="warmup">
      <h1>ุงูุฏุฑุณ ุงูุฃูู: ููุฏูุฉ ูู ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</h1>
      <p class="lead">ุณููุตููู ุงููุฆุงุช ุงูุฑุฆูุณูุฉุ ูููู ุฃุซุฑูุงุ ุซู ูุถุน ุฎุทุฉ ุงุณุชุฎุฏุงู ูุณุคููุฉ ููุงููุฉ ููููู.</p>
      <div class="chips">
        <span>ุงุฎุชุฑ ููุตุชู ุงูููุถูุฉ:</span>
        <button class="chip">ุฅูุณุชุฌุฑุงู</button>
        <button class="chip">ููุชููุจ</button>
        <button class="chip">ุชูู ุชูู</button>
        <button class="chip">ููููุฏุฅู</button>
        <button class="chip">ููุฑุฏุจุฑูุณ</button>
      </div>
    </section>

    <!-- ุงููุตุทูุญุงุช (ุนุฑุจู/English) + ุชุนุฑููุงุช ูุฎุชุตุฑุฉ -->
    <section class="card">
      <h2>ุงููุตุทูุญุงุช ุงูุฃุณุงุณูุฉ (ุนุฑุจู / English)</h2>
      <table>
        <thead><tr><th>ุงููุตุทูุญ ุงูุนุฑุจู</th><th>English</th><th>ุชุนุฑูู ูุฎุชุตุฑ</th></tr></thead>
        <tbody>
          <tr><td>ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู</td><td>Social Media</td><td>ููุตุงุช ูุฅูุดุงุก ุงููุญุชูู ููุดุงุฑูุชู ูุงูุชูุงุนู.</td></tr>
          <tr><td>ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ</td><td>Social Networks</td><td>ููู ุดุฎุตู + ุนูุงูุงุช/ูุชุงุจุนุฉ + ููุฌุฒ ุชูุงุนูุงุช.</td></tr>
          <tr><td>ุงููุฏููุงุช</td><td>Blogs</td><td>ููุงูุงุช/ุขุฑุงุก ูุฑุชุจุฉ ุฒููููุง ูุน ุชุนูููุงุช.</td></tr>
          <tr><td>ุงููููู</td><td>Wikis</td><td>ุชุญุฑูุฑ ุชุนุงููู ูููุญุชูู ูุน ุชูุซูู.</td></tr>
          <tr><td>ูุดุงุฑูุฉ ุงููุณุงุฆุท</td><td>Media Sharing</td><td>ุฑูุน ุตูุฑ/ููุฏูู ูุจุซ ูุชูุงุนู.</td></tr>
          <tr><td>ุงูุจุตูุฉ ุงูุฑูููุฉ</td><td>Digital Footprint</td><td>ุฃุซุฑู ุงูุฏุงุฆู ุนูู ุงูุฅูุชุฑูุช.</td></tr>
          <tr><td>ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ</td><td>Two-Factor Authentication</td><td>ุทุจูุฉ ุชุญูู ุฅุถุงููุฉ ูุญูุงูุฉ ุงูุญุณุงุจ.</td></tr>
        </tbody>
      </table>
    </section>

    <!-- ุงูุฃูุฏุงู -->
    <section class="card">
      <h2>ุฃูุฏุงู ุงูุฏุฑุณ</h2>
      <ul>
        <li>ูุตููู ูุณุงุฆู ุงูุชูุงุตู ุญุณุจ ูุฆุงุชูุง.</li>
        <li>ูุฏุฑู ุฃูููุชูุง ูุฃุซุฑูุง ูู ุญูุงุชู ููุฌุชูุนู.</li>
        <li>ููุชุฒู ุจุงูููู ููุถุน ุฎุทุฉ ุงุณุชุฎุฏุงู ููุธููุฉ ูุขููุฉ.</li>
      </ul>
      <p class="lead" style="margin-top:6px">ุงูุฃูุฏุงู ูุณุชูุฏุฉ ุฅูู ุงููุชุงุจ ูุฏููู ุงููุนููู (ูุฎุฑุฌุงุช ุงููุญุฏุฉ ูุงูุฏุฑุณ).</p>
    </section>

    <!-- ุงููุฏู 1: ุงูุชุตููู + ูุดุงุท ุณุฑูุน -->
    <section class="card" id="goal1">
      <h2>ูุฏู 1: ุชุตููู ุงููุฆุงุช</h2>
      <p><strong>ุงูุดุฑุญ ุงููุฎุชุตุฑ:</strong> ูุณุชุฎุฏู ุฃุฑุจุน ูุฆุงุช ูุจุฑู: ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉุ ุงููุฏููุงุชุ ุงูููููุ ูุดุงุฑูุฉ ุงููุณุงุฆุท. ูุฏ ุชูุชูู ููุตุฉ ุฎุตุงุฆุต ูุชุนุฏุฏุฉุ ููู ูุตููููุง ุจูุง ูุบูุจ ุนูู ูุธููุชูุง.</p>
      <div class="grid four" style="margin:8px 0">
        <div class="chip">ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ</div>
        <div class="chip">ุงููุฏููุงุช</div>
        <div class="chip">ูููู</div>
        <div class="chip">ูุดุงุฑูุฉ ุงููุณุงุฆุท</div>
      </div>
      <h3 style="margin-top:10px">ูุดุงุท ุณุฑูุน: ุงุณุญุจ ุงูููุตุฉ ุฅูู ุงููุฆุฉ ุงูุตุญูุญุฉ</h3>
      <div class="dnd">
        <div id="tokens">
          <span class="token" draggable="true" data-type="ุดุจูุงุช">ุฅูุณุชุฌุฑุงู</span>
          <span class="token" draggable="true" data-type="ูุณุงุฆุท">ููุชููุจ</span>
          <span class="token" draggable="true" data-type="ูุฏููุงุช">ููุฑุฏุจุฑูุณ</span>
          <span class="token" draggable="true" data-type="ูููู">ููููุจูุฏูุง</span>
          <span class="token" draggable="true" data-type="ุดุจูุงุช">ููููุฏุฅู</span>
          <span class="token" draggable="true" data-type="ูุฏููุงุช">ุจููุฌุฑ</span>
        </div>
        <div class="buckets">
          <div class="bucket" data-accept="ุดุจูุงุช"><strong>ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ</strong></div>
          <div class="bucket" data-accept="ูุฏููุงุช"><strong>ุงููุฏููุงุช</strong></div>
          <div class="bucket" data-accept="ูููู"><strong>ูููู</strong></div>
          <div class="bucket" data-accept="ูุณุงุฆุท"><strong>ูุดุงุฑูุฉ ุงููุณุงุฆุท</strong></div>
        </div>
        <div class="result" id="classifyOut"></div>
      </div>
    </section>

    <!-- ุงููุฏู 2: ุงูุฃุซุฑ + ูุดุงุท ุณุฑูุน -->
    <section class="card" id="goal2">
      <h2>ูุฏู 2: ุฃุซุฑ ุงูุงุณุชุฎุฏุงู ูู ุงูุชุนูู ูุงูุญูุงุฉ</h2>
      <p><strong>ุงูุดุฑุญ ุงููุฎุชุตุฑ:</strong> ุงูุฃุซุฑ ุงูุฅูุฌุงุจู ูุธูุฑ ุนูุฏูุง ูุญููู ุงุณุชุฎุฏุงููุง ูุฏููุง ูุงุถุญูุง (ุชุนููุ ุชูุงุตู ูุงูุนุ ููุงุทูุฉ ุฑูููุฉ)ุ ูุงูุฃุซุฑ ุงูุณูุจู ูุธูุฑ ุนูุฏ ูุฏุฑ ุงูููุช ุฃู ุงูุฅุถุฑุงุฑ ุจุงูุฎุตูุตูุฉ ุฃู ูุดุฑ ุงูุดุงุฆุนุงุช.</p>
      <h3>ูุดุงุท ุณุฑูุน: ูุฑุจุนุงุช ุงููุฑุงุฑ</h3>
      <div class="grid two" id="impact">
        <div class="card" style="border-style:dashed">
          <p>ูุชุงุจุนุฉ ููุงุฉ ุชุนููููุฉ ุฃุณุจูุนููุง</p>
          <button class="btn outline" data-good>ูุงุฆุฏุฉ</button>
          <button class="btn outline" data-bad>ูุฎุงุทุฑุฉ</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ูุดุงุฑูุฉ ูููุน ุงููุฏุฑุณุฉ ูุญุธููุง ุฃุซูุงุก ูุนุงููุฉ</p>
          <button class="btn outline" data-good>ูุงุฆุฏุฉ</button>
          <button class="btn outline" data-bad>ูุฎุงุทุฑุฉ</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ุงูุชุญูู ูู ุงูุฎุจุฑ ูุจู ุฅุนุงุฏุฉ ูุดุฑู</p>
          <button class="btn outline" data-good>ูุงุฆุฏุฉ</button>
          <button class="btn outline" data-bad>ูุฎุงุทุฑุฉ</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ูุดุงุฑูุฉ ูููุฉ ุงููุฑูุฑ ูุน ุตุฏูู</p>
          <button class="btn outline" data-good>ูุงุฆุฏุฉ</button>
          <button class="btn outline" data-bad>ูุฎุงุทุฑุฉ</button>
        </div>
      </div>
      <div class="result" id="impactOut"></div>
    </section>

    <!-- ุงููุฏู 3: ุงูุชุฎุทูุท ูุงูุงุณุชุฎุฏุงู ุงููุณุคูู + ูุดุงุท ุณุฑูุน -->
    <section class="card" id="goal3">
      <h2>ูุฏู 3: ุฎุทุฉ ุงุณุชุฎุฏุงู ูุณุคููุฉ</h2>
      <p class="lead">ุฎุทูุงุช ุงูุฎุทุฉ: ุชุญุฏูุฏ ุงููุฏู โ ุงุฎุชูุงุฑ ุงูููุตุฉ ุงูุฃูุณุจ โ ููุช ุฃุณุจูุนู ููุถุจุท โ ุฅุฌุฑุงุกุงุช ุฃูุงู (2FA/ุงูุฎุตูุตูุฉ/ุงูุจุตูุฉ ุงูุฑูููุฉ) โ ุงูุชุฒุงู ุจุงูููู ูุงูุณููู ุงูุญุณู.</p>
      <div class="grid two">
        <div>
          <label>ุงููุฏู:</label>
          <input class="input" id="goal" placeholder="ูุซุงู: ุชุนูู ุฃูุบุงุฒ ุงูุจุฑูุฌุฉ">
          <label>ุงูููุตุฉ:</label>
          <input class="input" id="platform" placeholder="ููุชููุจ / ุฅูุณุชุฌุฑุงู / ููุฑุฏุจุฑูุณ โฆ">
          <label>ุงูููุช ุงูุฃุณุจูุนู:</label>
          <input class="input" id="time" placeholder="3 ุณุงุนุงุช">
        </div>
        <div>
          <label>ุฅุฌุฑุงุกุงุช ุงูุฃูุงู:</label>
          <textarea class="input" id="safety" rows="5" placeholder="ุชูุนูู 2FAุ ุถุจุท ุงูุฎุตูุตูุฉุ ุนุฏู ูุดุงุฑูุฉ ุงููููุน ุงูููุฑูโฆ"></textarea>
          <div style="margin-top:10px;text-align:end">
            <button class="btn primary" id="buildPlan">ุฅูุดุงุก ุงูุฎุทุฉ</button>
          </div>
        </div>
      </div>
      <div class="result" id="planOut"></div>
    </section>

    <!-- ูุดุงุท ุฎุชุงูู: ุชุญุฏู 60 ุซุงููุฉ -->
    <section class="card" id="final">
      <h2>ูุดุงุท ุฎุชุงูู: ุชุญุฏู 60 ุซุงููุฉ</h2>
      <div class="bar"><div id="barFill"></div></div>
      <ol id="finalQuiz" style="margin-top:10px">
        <li>ุงููููู ุชุนุชูุฏ ุนูู <button class="btn outline" data-q="1" data-a>ุชุญุฑูุฑ ุชุนุงููู</button> <button class="btn outline" data-q="1">ุฑุณุงุฆู ุฎุงุตุฉ</button></li>
        <li>ููุตุฉ ุชุฏููู: <button class="btn outline" data-q="2" data-a>ููุฑุฏุจุฑูุณ</button> <button class="btn outline" data-q="2">ุฅูุณุชุฌุฑุงู</button></li>
        <li>ุฃูุถู ููุงุฑุณุฉ ููุฃูุงู: <button class="btn outline" data-q="3" data-a>ุชูุนูู 2FA</button> <button class="btn outline" data-q="3">ูุดุงุฑูุฉ ูููุฉ ุงูุณุฑ</button></li>
        <li>ูุดุงุฑูุฉ ุงููููุน ูุญุธููุง ุฏุงุฆููุง ูู: <button class="btn outline" data-q="4">ูุงุฆุฏุฉ</button> <button class="btn outline" data-q="4" data-a>ูุฎุงุทุฑุฉ</button></li>
        <li>ูุดุงุฑูุฉ ููุฏูู ุชุนูููู ูุงูุงูุชุฒุงู ุจุงูููุช ุงููุญุฏุฏ: <button class="btn outline" data-q="5" data-a>ูุงุฆุฏุฉ</button> <button class="btn outline" data-q="5">ูุฎุงุทุฑุฉ</button></li>
      </ol>
      <div class="result" id="finalOut"></div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ุฅุดุนุงุฑ ุจุณูุท
    const toast = document.getElementById("toast");
    function showToast(msg, ms=2200){ toast.innerHTML = msg; toast.classList.add("show"); clearTimeout(window.__t); window.__t=setTimeout(()=>toast.classList.remove("show"), ms); }

    // ุชุจุฏูู ุงูุซูู
    document.getElementById("themeToggle")?.addEventListener("click", ()=>{
      document.body.classList.toggle("dark");
      showToast(document.body.classList.contains("dark")?"ุชู ุชูุนูู ุงููุถุน ุงููููู ๐":"ุชู ุงูุชุญููู ูููุถุน ุงููุงุชุญ โ๏ธ");
    });

    // ุชูููุฏ
    document.getElementById("warmup").addEventListener("click", e=>{
      if(e.target.classList.contains("chip")){
        e.target.classList.toggle("on");
        showToast("ุฑุงุฆุน! ุณูุนุฑู ููู ูุณุชููุฏ ูููุง ุจุฐูุงุก โจ");
      }
    });

    // ุณุญุจ ูุฅููุงุช (ูุฏู 1)
    const tokens = document.querySelectorAll(".token");
    const buckets = document.querySelectorAll(".bucket");
    let placed=0, total=tokens.length;
    tokens.forEach(t=>{
      t.addEventListener("dragstart", e=> e.dataTransfer.setData("t", t.dataset.type+"|"+t.textContent));
    });
    buckets.forEach(b=>{
      b.addEventListener("dragover", e=> e.preventDefault());
      b.addEventListener("drop", e=>{
        const data = e.dataTransfer.getData("t"); if(!data) return;
        const [type,label] = data.split("|");
        if(b.dataset.accept===type){
          // ุงููู ุงูุจุทุงูุฉ ุฅูู ุงูุฏูู ูุฃููู ุณุญุจูุง
          const el = [...tokens].find(x=>x.textContent===label && x.draggable);
          if(!el) return;
          el.draggable=false; el.style.cursor="default"; el.style.opacity=.85;
          b.appendChild(el);
          placed++; showToast("ุตุญูุญ! โ");
          if(placed===total) document.getElementById("classifyOut").textContent="ููุชุงุฒ! ุฃุชููุช ุงูุชุตููู.";
        }else{
          showToast("ููุณุช ุงููุฆุฉ ุงูุตุญูุญุฉ โ ุฌุฑูุจ ุซุงููุฉ โ");
        }
      });
    });

    // ูุฑุจุนุงุช ุงููุฑุงุฑ (ูุฏู 2)
    document.getElementById("impact").addEventListener("click", e=>{
      const btn = e.target.closest("button"); if(!btn) return;
      if(btn.hasAttribute("data-good")) showToast("ุงุฎุชูุงุฑ ูููู ๐");
      if(btn.hasAttribute("data-bad"))  showToast("ุงูุชุจู: ููุงุฑุณุฉ ุบูุฑ ุขููุฉ โ๏ธ");
      document.getElementById("impactOut").textContent = "ุงููุชูุฌุฉ: ูุฎุชุงุฑ ูุง ูุญูู ุงููุฏู ููุชุฌูุจ ูุง ูุถุฑ ุงูุฎุตูุตูุฉ ูุงูููุช.";
    });

    // ุฅูุดุงุก ุงูุฎุทุฉ (ูุฏู 3)
    document.getElementById("buildPlan").addEventListener("click", ()=>{
      const g = document.getElementById("goal").value.trim();
      const p = document.getElementById("platform").value.trim();
      const t = document.getElementById("time").value.trim();
      const s = document.getElementById("safety").value.trim();
      if(!g||!p||!t||!s){ showToast("ุฃููู ุงูุญููู ุฃูููุง"); return; }
      document.getElementById("planOut").innerHTML = `
        <div class="card" style="margin-top:10px">
          <h3>ุฎุทุฉ ุงุณุชุฎุฏุงูู</h3>
          <ul>
            <li><strong>ุงููุฏู:</strong> ${g}</li>
            <li><strong>ุงูููุตุฉ:</strong> ${p}</li>
            <li><strong>ุงูููุช ุงูุฃุณุจูุนู:</strong> ${t}</li>
            <li><strong>ุฅุฌุฑุงุกุงุช ุงูุฃูุงู:</strong> ${s}</li>
          </ul>
        </div>`;
      showToast("ููุชุงุฒ! ุฎูุทุชู ุฌุงูุฒุฉ โ");
    });

    // ุงูุชุญุฏู ุงูุฎุชุงูู (60 ุซุงููุฉ)
    const bar = document.getElementById("barFill"); let answered=new Set(), score=0, secs=60;
    function tick(){ secs--; bar.style.width = (100*(1 - secs/60))+"%"; if(secs<=0){ finish(); } }
    let timer = setInterval(tick, 1000);
    function finish(){
      clearInterval(timer);
      document.querySelectorAll("#finalQuiz [data-q]").forEach(b=> b.disabled=true);
      document.getElementById("finalOut").textContent = `ูุชูุฌุชู: ${score}/5`;
      showToast(score>=4 ? "ุฅุจุฏุงุน! ุฅุชูุงู ุฑุงุฆุน ๐" : "ุนูู ุฌูุฏ! ุฑุงุฌุน ูุง ุฃุฎุทุฃุช ููู ูุฃุนุฏ ุงููุญุงููุฉ ๐", 2600);
    }
    document.getElementById("finalQuiz").addEventListener("click", e=>{
      const btn = e.target.closest("button[data-q]"); if(!btn) return;
      const q = btn.getAttribute("data-q"); if(answered.has(q)) return;
      answered.add(q);
      if(btn.hasAttribute("data-a")){ score++; btn.classList.add("primary"); showToast("ุตุญูุญ โ",1500); }
      else { btn.style.opacity=.6; showToast("ุบูุฑ ุฏููู โ",1500); }
      if(answered.size===5) finish();
    });
  </script>
</body>
</html>
