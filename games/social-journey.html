<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุงููุนุจุฉ ุงูุชุนููููุฉ: ุฑุญูุฉ ุนุจุฑ ุดุจูุงุช ุงูุชูุงุตู</title>
  <meta name="description" content="ูุบุงูุฑุฉ ุชุนููููุฉ ูุงุณุชูุดุงู ุงููุฏููุงุช ูุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ ูุงููููู ููุดุงุฑูุฉ ุงููุณุงุฆุทุ ูุน ููุงุชูุญ ุงูุฃูุงู ููุธุงู ููุงุท.">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;800&display=swap" rel="stylesheet">
  <!-- ุซูู ุงููููุน + ุดุงุฑุฉ ุงูููุงุท -->
  <link rel="stylesheet" href="../assets/css/style.css">
  <link rel="stylesheet" href="../assets/css/games.css">
  <style>
    /* === ุฃููุงุท ุฎุงุตุฉ ุจูุฐู ุงููุนุจุฉ ููุท === */
    .hero h1{
      margin:0 0 6px;
      background:linear-gradient(90deg,var(--primary,#0ea5e9),var(--accent,#f59e0b));
      -webkit-background-clip:text;background-clip:text;color:transparent
    }
    .progress{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin:16px 0}
    .stage{display:flex;align-items:center;gap:8px;padding:10px;border-radius:12px;border:1px dashed rgba(2,8,23,.18);background:#f1f5f9}
    .stage.done{border-style:solid;border-color:var(--primary,#0ea5e9);background:#e0f2fe}
    .key{font-size:1.1rem}
    .tokens{display:flex;flex-wrap:wrap;gap:8px}
    .token{display:inline-flex;align-items:center;gap:8px;margin:6px;padding:10px 14px;border-radius:999px;background:#fff;border:1px solid rgba(2,8,23,.14);cursor:grab;user-select:none}
    .token small{opacity:.7}
    .buckets{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
    .bucket{min-height:130px;padding:10px;border-radius:12px;border:2px dashed rgba(2,8,23,.18);background:#f8fafc}
    .bucket h4{margin:0 0 6px}
    .result{margin-top:8px;font-weight:800}
    .shake{animation:shake .3s linear}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-3px)}75%{transform:translateX(3px)}}
    .board{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .badge{display:inline-block;padding:4px 10px;border-radius:999px;font-size:.85em;background:rgba(2,8,23,.06)}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  </style>
</head>
<body>
  <!-- ุดุฑูุท ุนููู -->
  <header class="topbar">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center">
      <a class="brand" href="../" style="font-weight:800;text-decoration:none;color:inherit">ููุตุชู</a>
      <nav class="nav">
        <a href="../lessons/lesson1.html">ุงูุฏุฑุณ ุงูุฃูู</a>
        <a href="../lessons/lesson1-plan.html">ุชุญุถูุฑ ุงูุฏุฑุณ</a>
        <a href="./">ุงูุฃูุนุงุจ</a>
        <button id="themeToggle" class="btn ghost">๐</button>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- ุจุทู -->
    <section class="hero card">
      <h1>ุงููุนุจุฉ ุงูุชุนููููุฉ: ุฑุญูุฉ ุนุจุฑ ุดุจูุงุช ุงูุชูุงุตู</h1>
      <p class="lead">ุงุฌูุน <strong>ููุงุชูุญ ุงูุฃูุงู</strong> ุจุงุฌุชูุงุฒ ุงูุนูุงูู ุงูุฃุฑุจุนุฉ: ุงูุชุนุงุฑูุ ุงูุงุณุชูุดุงูุ ุงููุฎุงุทุฑ ูุงูุฃูุงูุ ุงููุดุฑูุน ุงูุฎุชุงูู.</p>
      <div class="chips">
        <span class="chip">ุงููุฏููุงุช</span>
        <span class="chip">ุงูุดุจูุงุช ุงูุงุฌุชูุงุนูุฉ</span>
        <span class="chip">ูุดุงุฑูุฉ ุงููุณุงุฆุท</span>
        <span class="chip">ูููู/ูุญุฑุฑุงุช ุงูููุจ</span>
      </div>
      <div class="progress" aria-label="ุชูุฏู ุงููุฑุงุญู">
        <div class="stage" id="s1"><span class="key">๐</span> ุงูุชุนุงุฑู</div>
        <div class="stage" id="s2"><span class="key">๐</span> ุงูุงุณุชูุดุงู</div>
        <div class="stage" id="s3"><span class="key">๐</span> ุงููุฎุงุทุฑ ูุงูุฃูุงู</div>
        <div class="stage" id="s4"><span class="key">๐</span> ุงููุดุฑูุน</div>
      </div>
      <button class="btn primary" id="start">ุงุจุฏุฃ ุงููุบุงูุฑุฉ</button>
    </section>

    <!-- ุงููุฑุญูุฉ 1: ุงูุชุนุงุฑู (Intro Quiz) -->
    <section class="card" id="intro" hidden>
      <h2>ุงููุฑุญูุฉ 1: ุงูุชุนุงุฑู โ ุทุงุจู ุงูุดุนุงุฑ ูุน ุงููุฆุฉ</h2>
      <p class="lead">ุงุณุญุจ ุงูุจุทุงูุฉ ุฅูู ุงููุฆุฉ ุงูุตุญูุญุฉ: (ูุฏููุงุช / ุดุจูุงุช ุงุฌุชูุงุนูุฉ / ูููู/ูุญุฑุฑุงุช ุงูููุจ / ูุดุงุฑูุฉ ูุณุงุฆุท)</p>
      <div class="tokens" id="introTokens" aria-label="ุจุทุงูุงุช ุงูุดุนุงุฑุงุช">
        <div class="token" draggable="true" data-type="ุดุจูุงุช ุงุฌุชูุงุนูุฉ">Facebook <small>(ุดุจูุงุช)</small></div>
        <div class="token" draggable="true" data-type="ุดุจูุงุช ุงุฌุชูุงุนูุฉ">Twitter <small>(ุดุจูุงุช)</small></div>
        <div class="token" draggable="true" data-type="ูุฏููุงุช">Blogger <small>(ูุฏููุงุช)</small></div>
        <div class="token" draggable="true" data-type="ูููู">Wikipedia <small>(ูููู)</small></div>
        <div class="token" draggable="true" data-type="ูุดุงุฑูุฉ ูุณุงุฆุท">YouTube <small>(ูุณุงุฆุท)</small></div>
      </div>
      <div class="buckets">
        <div class="bucket" data-accept="ูุฏููุงุช"><h4>ูุฏููุงุช</h4></div>
        <div class="bucket" data-accept="ุดุจูุงุช ุงุฌุชูุงุนูุฉ"><h4>ุดุจูุงุช ุงุฌุชูุงุนูุฉ</h4></div>
        <div class="bucket" data-accept="ูููู"><h4>ูููู/ูุญุฑุฑุงุช ุงูููุจ</h4></div>
        <div class="bucket" data-accept="ูุดุงุฑูุฉ ูุณุงุฆุท"><h4>ูุดุงุฑูุฉ ูุณุงุฆุท</h4></div>
      </div>
      <div class="result" id="introOut"></div>
      <div style="text-align:end;margin-top:8px">
        <button class="btn ghost" id="resetIntro">ุฅุนุงุฏุฉ</button>
        <button class="btn primary" id="next1" disabled>ุงูุชุงูู โ</button>
      </div>
    </section>

    <!-- ุงููุฑุญูุฉ 2: ุงูุงุณุชูุดุงู (Drag & Drop Challenge) -->
    <section class="card" id="explore" hidden>
      <h2>ุงููุฑุญูุฉ 2: ุงูุงุณุชูุดุงู โ ูุดุงุท โ ูุณููุฉ</h2>
      <p class="lead">ุงุณุญุจ ุงููุดุงุท ุฅูู ุงููุณููุฉ ุงูุฃูุณุจ: (YouTube / Blogger / Wikipedia)</p>
      <div class="tokens" id="expTokens">
        <div class="token" draggable="true" data-target="YouTube">ูุดุงุฑูุฉ ููุทุน ููุฏูู</div>
        <div class="token" draggable="true" data-target="Blogger">ูุชุงุจุฉ ููููุงุช ุดุฎุตูุฉ</div>
        <div class="token" draggable="true" data-target="Wikipedia">ุงูุชุนุงูู ูู ูุชุงุจุฉ ููุงู</div>
      </div>
      <div class="buckets">
        <div class="bucket" data-name="YouTube"><h4>YouTube</h4></div>
        <div class="bucket" data-name="Blogger"><h4>Blogger</h4></div>
        <div class="bucket" data-name="Wikipedia"><h4>Wikipedia</h4></div>
      </div>
      <div class="result" id="expOut"></div>
      <div style="text-align:end;margin-top:8px">
        <button class="btn ghost" id="resetExp">ุฅุนุงุฏุฉ</button>
        <button class="btn primary" id="next2" disabled>ุงูุชุงูู โ</button>
      </div>
    </section>

    <!-- ุงููุฑุญูุฉ 3: ุงููุฎุงุทุฑ ูุงูุฃูุงู (Decision Game) -->
    <section class="card" id="safety" hidden>
      <h2>ุงููุฑุญูุฉ 3: ุงููุฎุงุทุฑ ูุงูุฃูุงู โ ูุฑุงุฑ ุณุฑูุน</h2>
      <p class="lead">ุงุฎุชุฑ ุงูุชุตุฑู ุงูุตุญูุญ/ุงูุฎุงุทุฆ ููู ูููู. ุชุญุชุงุฌ 3/4 ููุงุท ููููุฒ ุจุงูููุชุงุญ.</p>
      <div class="grid-2" id="safetyList" style="display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))">
        <div class="card" style="border-style:dashed">
          <p>ูุตูุชู ุฑุณุงูุฉ ุชุทูุจ ูุดุงุฑูุฉ ุจูุงูุงุชู ุงูุดุฎุตูุฉ.</p>
          <button class="btn outline" data-ok="false">ุฃุดุงุฑู ุงูุจูุงูุงุช</button>
          <button class="btn outline" data-ok="true">ุฃุฑูุถ ูุฃุจููุบ</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ุชูููุช ุตูุฑุฉ ูุณูุฆุฉ ุนุจุฑ ุชุทุจูู.</p>
          <button class="btn outline" data-ok="true">ุฃุจููุบ ูุฃุญูุธ ุงูุฏููู</button>
          <button class="btn outline" data-ok="false">ุฃุนูุฏ ูุดุฑูุง</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ุตุฏููู ุทูุจ ูููุฉ ูุฑูุฑู ููุฏุฎูู ุฅูู ุญุณุงุจู.</p>
          <button class="btn outline" data-ok="false">ุฃุนุทูู ูููุฉ ุงููุฑูุฑ</button>
          <button class="btn outline" data-ok="true">ุฃุฑูุถ ูุฃุดุฑุญ ุงููุฎุงุทุฑ</button>
        </div>
        <div class="card" style="border-style:dashed">
          <p>ุทูุจ ุตุฏุงูุฉ ูู ุดุฎุต ูุฌููู ุฏูู ูุนูููุงุช ูุงุถุญุฉ.</p>
          <button class="btn outline" data-ok="false">ุฃูุจู ููุฑูุง</button>
          <button class="btn outline" data-ok="true">ุฃุฑูุถ/ุฃุชุฃูุฏ ุฃูููุง</button>
        </div>
      </div>
      <div class="result" id="safeOut"></div>
      <div style="text-align:end;margin-top:8px">
        <button class="btn ghost" id="resetSafe">ุฅุนุงุฏุฉ</button>
        <button class="btn primary" id="next3" disabled>ุงูุชุงูู โ</button>
      </div>
    </section>

    <!-- ุงููุฑุญูุฉ 4: ุงููุดุฑูุน ุงูุฎุชุงูู (Mini-Project Game) -->
    <section class="card" id="project" hidden>
      <h2>ุงููุฑุญูุฉ 4: ุงููุดุฑูุน โ ูุฎุทุท ุงุณุชุฎุฏุงู ุฌูุงุนู</h2>
      <p class="lead">ุงุนูููุง ูู ูุฌููุนุงุช ุตุบูุฑุฉ: ุงุณู ุงููุณููุฉ โ ุงููุฏู โ ููุงุฑุณุงุช ุฅูุฌุงุจูุฉ โ ููุงุฑุณุงุช ูุฌุจ ุชุฌูุจูุง. ุงูุดุฑูุง ุจุทุงูุชูู ูู ุงูุตู ุงูุงูุชุฑุงุถู.</p>
      <div class="grid-2" style="display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))">
        <div>
          <label>ุงุณู ุงููุฌููุนุฉ</label>
          <input class="token" id="gName" placeholder="ูุฌููุนุฉ 1" style="width:100%">
          <label>ุงููุณููุฉ</label>
          <input class="token" id="gPlatform" placeholder="ูุซุงู: YouTube" style="width:100%">
          <label>ุงููุฏู ูู ุงูุงุณุชุฎุฏุงู</label>
          <input class="token" id="gGoal" placeholder="ูุซุงู: ุชุนูู ุงูุจุฑูุฌุฉ" style="width:100%">
        </div>
        <div>
          <label>ููุงุฑุณุงุช ุฅูุฌุงุจูุฉ</label>
          <textarea class="token" id="gDo" rows="4" placeholder="ุชุญูู ูู ุงููุตุงุฏุฑุ ุถุจุท ุงูููุช..." style="width:100%"></textarea>
          <label>ููุงุฑุณุงุช ูุฌุจ ุชุฌูุจูุง</label>
          <textarea class="token" id="gDont" rows="4" placeholder="ูุดุงุฑูุฉ ุจูุงูุงุช ุญุณุงุณุฉุ ุงูุชููุฑ..." style="width:100%"></textarea>
          <div style="text-align:end;margin-top:8px">
            <button class="btn primary" id="addCard">ูุดุฑ ูู ุงูุตู ุงูุงูุชุฑุงุถู</button>
          </div>
        </div>
      </div>
      <div class="result" id="projOut"></div>
      <h3 style="margin-top:12px">ุงูุตู ุงูุงูุชุฑุงุถู (Gamified Presentation)</h3>
      <div class="board" id="board"></div>
      <div style="text-align:end;margin-top:8px">
        <button class="btn outline" id="printBoard">ุทุจุงุนุฉ ุงูููุญุฉ</button>
        <button class="btn primary" id="finish" disabled>ุฅููุงุก ุงูุฑุญูุฉ ๐</button>
      </div>
    </section>

    <!-- ุชููุฆุฉ -->
    <section class="card" id="congrats" hidden>
      <h2>ูุจุฑูู! ุฌูุนุช ูู ููุงุชูุญ ุงูุฃูุงู ๐๐๐๐</h2>
      <p class="lead">ุงููุฎุฑุฌุงุช ุงูุชุนููููุฉ ุงูุชู ุญููุชูุง:</p>
      <ul>
        <li>ุชูููุฒ ุฃููุงุน ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู.</li>
        <li>ููู ุงุณุชุฎุฏุงูุงุชูุง ุงููุฎุชููุฉ.</li>
        <li>ุฅุฏุฑุงู ุงููุฎุงุทุฑ ูุฃูููุฉ ุงูุงุณุชุฎุฏุงู ุงูุขูู.</li>
        <li>ุชุนุฒูุฒ ุงูุชูููุฑ ุงููุงูุฏ ูุงูุนูู ุงูุฌูุงุนู.</li>
      </ul>
      <a class="btn primary" href="../lessons/lesson1.html">ุงูุนูุฏุฉ ููุฏุฑุณ</a>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- ุณูุฑุจุชุงุช ุงูุซูู ูุงูููุงุท -->
  <script src="../assets/js/ui.js"></script>
  <script src="../assets/js/game-core.js"></script>
  <script>insertPointsBadge();</script>

  <script>
    // ุฃุฏูุงุช ูุณุงุนุฏุฉ
    const $ = (s,p=document)=>p.querySelector(s), $$=(s,p=document)=>[...p.querySelectorAll(s)];

    // ุชุจุฏูู ุงูุซูู
    $("#themeToggle")?.addEventListener("click", ()=>{
      document.body.classList.toggle("dark");
      showToast(document.body.classList.contains("dark")?"ุชู ุชูุนูู ุงููุถุน ุงููููู ๐":"ุชู ุงูุชุญููู ูููุถุน ุงููุงุชุญ โ๏ธ");
    });

    // ุดุฑูุท ุงููุฑุงุญู + ูุธุงู ุงูููุงุท
    const stages = [$("#s1"), $("#s2"), $("#s3"), $("#s4")];

    // ๐ ุชุนุฏูู #7: ููุงูุฃุฉ +5 ููุงุท ุนูุฏ ูุชุญ ุงูููุชุงุญ ูุฃูู ูุฑุฉ
    function unlock(i){
      const st = stages[i];
      if(!st.classList.contains("done")){
        st.classList.add("done");
        st.querySelector(".key").textContent="๐";
        Points.add(5); // ููุงูุฃุฉ ุงูููุชุงุญ
        showToast("ุญุตูุช ุนูู ููุชุงุญ ุฃูุงู ๐ (+5)");
      }
    }

    // ุจุฏุงูุฉ ุงููุนุจุฉ
    $("#start").addEventListener("click", ()=>{
      $("#intro").hidden=false;
      window.scrollTo({top: $("#intro").offsetTop-10, behavior:"smooth"});
      showToast("ููุง ูุจุฏุฃ ูุฑุญูุฉ ุงูุชุนุงุฑู!");
    });

    /* ========= ุงููุฑุญูุฉ 1: ุงูุชุนุงุฑู ========= */
    (function(){
      const tokens = $$("#introTokens .token");
      const buckets = $$(".bucket", $("#intro"));
      let placed=0, total=tokens.length;

      tokens.forEach(t=>{
        t.addEventListener("dragstart", e=> {
          e.dataTransfer.setData("t", t.dataset.type+"|"+t.textContent);
        });
      });
      buckets.forEach(b=>{
        b.addEventListener("dragover", e=> e.preventDefault());
        b.addEventListener("drop", e=>{
          const data = e.dataTransfer.getData("t"); if(!data) return;
          const [type,label]=data.split("|");
          if(b.dataset.accept===type){
            const el = tokens.find(x=>x.textContent===label && x.draggable);
            if(!el) return;
            el.draggable=false; el.style.cursor="default"; el.style.opacity=.85;
            b.appendChild(el);
            placed++; SFX.ok(); showToast(`ุฃุญุณูุช! ${label} = ${type}`);
            if(placed===total){
              $("#introOut").textContent="ููุชุงุฒ! ุญุตูุช ุนูู ููุชุงุญ ุงูุฃูุงู ุงูุฃูู.";
              $("#next1").disabled=false; unlock(0);
            }
          }else{
            b.classList.add("shake"); setTimeout(()=>b.classList.remove("shake"), 300);
            SFX.bad(); showToast("ููุณุช ุงููุฆุฉ ุงูุตุญูุญุฉ โ");
          }
        });
      });
      $("#resetIntro").addEventListener("click", ()=> location.reload());
      $("#next1").addEventListener("click", ()=>{
        $("#explore").hidden=false; window.scrollTo({top: $("#explore").offsetTop-10, behavior:"smooth"});
      });
    })();

    /* ========= ุงููุฑุญูุฉ 2: ุงูุงุณุชูุดุงู ========= */
    (function(){
      const tokens = $$("#expTokens .token");
      const buckets = $$(".bucket", $("#explore"));
      let placed=0, total=tokens.length;

      tokens.forEach(t=> t.addEventListener("dragstart", e=> e.dataTransfer.setData("t", t.dataset.target+"|"+t.textContent)));
      buckets.forEach(b=>{
        b.addEventListener("dragover", e=> e.preventDefault());
        b.addEventListener("drop", e=>{
          const data=e.dataTransfer.getData("t"); if(!data) return;
          const [target,label]=data.split("|");
          if(b.dataset.name===target){
            const el = tokens.find(x=>x.textContent===label && x.draggable);
            if(!el) return;
            el.draggable=false; el.style.cursor="default"; el.style.opacity=.85;
            b.appendChild(el); placed++; SFX.ok(); showToast("ุตุญูุญ โ");
            if(placed===total){ $("#expOut").textContent="ุฑุงุฆุน! ููุชุงุญ ุงูุฃูุงู ุงูุซุงูู ุฃุตุจุญ ูู."; $("#next2").disabled=false; unlock(1); }
          }else{
            b.classList.add("shake"); setTimeout(()=>b.classList.remove("shake"), 300);
            SFX.bad(); showToast("ุงุฎุชูุงุฑ ุบูุฑ ุฏููู โ");
          }
        });
      });
      $("#resetExp").addEventListener("click", ()=> location.reload());
      $("#next2").addEventListener("click", ()=>{
        $("#safety").hidden=false; window.scrollTo({top: $("#safety").offsetTop-10, behavior:"smooth"});
      });
    })();

    /* ========= ุงููุฑุญูุฉ 3: ุงููุฎุงุทุฑ ูุงูุฃูุงู ========= */
    (function(){
      let score=0, answered=0;
      $("#safetyList").addEventListener("click", e=>{
        const btn = e.target.closest("button[data-ok]"); if(!btn) return;
        if(btn.disabled) return;
        answered++;
        const ok = btn.getAttribute("data-ok")==="true";
        if(ok){
          score++; SFX.ok(); showToast("ุชุตุฑู ุตุญูุญ โ");
          btn.classList.add("primary");
        }else{
          SFX.bad(); showToast("ูุฐุง ุชุตุฑู ุฎุงุทุฆ โ");
          btn.classList.add("shake");
        }
        // ุชุนุทูู ุฒุฑู ุงูุจุทุงูุฉ
        btn.parentElement.querySelectorAll("button").forEach(b=> b.disabled=true);
        $("#safeOut").textContent = `ูุชูุฌุชู: ${score}/${answered}`;
        if(answered>=4){
          if(score>=3){ $("#safeOut").textContent += " โ ุฃุญุณูุช! ุญุตูุช ุนูู ููุชุงุญ ุงูุฃูุงู ุงูุซุงูุซ."; $("#next3").disabled=false; unlock(2); }
          else { $("#safeOut").textContent += " โ ุฃุนุฏ ุงููุญุงููุฉ ูุชุญุตู ุนูู ุงูููุชุงุญ."; }
        }
      });
      $("#resetSafe").addEventListener("click", ()=> location.reload());
      $("#next3").addEventListener("click", ()=>{
        $("#project").hidden=false; window.scrollTo({top: $("#project").offsetTop-10, behavior:"smooth"});
      });
    })();

    /* ========= ุงููุฑุญูุฉ 4: ุงููุดุฑูุน ========= */
    (function(){
      const board = $("#board");
      const addCardBtn = $("#addCard");
      const finishBtn = $("#finish");

      function addCardToBoard({name,plat,goal,dox,dont}, toStart=false){
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
          <div class="badge">๐ฅ ${name}</div>
          <h3 style="margin:.4rem 0">ุงููุณููุฉ: ${plat}</h3>
          <p><strong>ุงููุฏู:</strong> ${goal}</p>
          <p><strong>ููุงุฑุณุงุช ุฅูุฌุงุจูุฉ:</strong><br>${dox.replace(/\n/g,"<br>")}</p>
          <p><strong>ููุงุฑุณุงุช ูุฌุจ ุชุฌูุจูุง:</strong><br>${dont.replace(/\n/g,"<br>")}</p>`;
        toStart ? board.prepend(card) : board.appendChild(card);
      }

      // ูุดุฑ ุงูุจุทุงูุฉ
      addCardBtn.addEventListener("click", ()=>{
        const name=$("#gName").value.trim(), plat=$("#gPlatform").value.trim(), goal=$("#gGoal").value.trim(), dox=$("#gDo").value.trim(), dont=$("#gDont").value.trim();
        if(!name||!plat||!goal||!dox||!dont){ showToast("ุฃููู ุฌููุน ุงูุญููู ุฃูููุง"); SFX.bad(); return; }
        const data={name,plat,goal,dox,dont};
        addCardToBoard(data, true);
        $("#projOut").textContent="ุชู ุงููุดุฑ ูู ุงูุตู ุงูุงูุชุฑุงุถู โ ููุชุงุฒ! ุญุตูุช ุนูู ููุชุงุญ ุงูุฃูุงู ุงูุฑุงุจุน.";
        finishBtn.disabled=false; SFX.ok(); unlock(3); showToast("ููุชุงุญ ุงูุฃูุงู ุงูุฑุงุจุน ๐");
        // ุญูุธ ูุญูู ุจุณูุท
        const saved = JSON.parse(localStorage.getItem("journey_board")||"[]");
        saved.unshift(data);
        localStorage.setItem("journey_board", JSON.stringify(saved));
      });

      // ุชุญููู ุงูููุญุฉ ูู ุงูุชุฎุฒูู ุงููุญูู
      (function loadBoard(){
        const saved = JSON.parse(localStorage.getItem("journey_board")||"[]");
        saved.forEach(d=> addCardToBoard(d));
        if(saved.length){ finishBtn.disabled=false; }
      })();

      $("#printBoard").addEventListener("click", ()=> window.print());

      // ๐ ุชุนุฏูู #7: ุจููุณ ุงูุฅููุงุก +15 ููุทุฉ
      finishBtn.addEventListener("click", ()=>{
        $("#congrats").hidden=false;
        window.scrollTo({top: $("#congrats").offsetTop-10, behavior:"smooth"});
        Points.add(15); showToast("ุจููุณ ุฅุชูุงู ุงูุฑุญูุฉ +15 ๐", 2600);
      });
    })();
  </script>
</body>
</html>
